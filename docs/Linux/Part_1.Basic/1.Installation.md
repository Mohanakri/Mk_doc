# Chapter 1: Installing Linux

## Overview

This chapter provides a comprehensive guide to Linux installation, covering various platforms and deployment methods. The focus is on practical approaches for modern system administrators, DevOps professionals, and developers.

## Topics Covered

- Introduction to Linux operating system
- Basic Linux installation procedures
- Windows Subsystem for Linux (WSL)
- Advanced installation methods
- Linux distribution selection guide

---

## Introduction to Linux Operating System

### History and Background

- **Created**: 1991 by Linus Torvalds (Finnish computer science student)
- **Initial Release**: Free and open source, prohibiting commercial redistribution
- **1992**: Adopted GNU General Public License (GPL)
- **Architecture Support**: Originally Intel x86, now supports multiple platforms
- **Foundation**: Open source alternative to Unix (developed at AT&T Bell Labs, 1969)

!!! note "Free Software Foundation"
    The Free Software Foundation community distinctly refers to Linux operating systems as GNU/Linux to emphasize the importance of GNU for free software.

### Linux Distributions

A Linux distribution (distro) is an installation bundle containing:

- **Linux Kernel**: Core interface between hardware and processes
- **Bootloader**: System startup manager
- **Shell**: Command-line interface
- **Package Management System**: Software installation/management
- **Graphical User Interface**: Desktop environment
- **Software Utilities**: Various applications and tools

#### Linux Architecture

![Figure 1.1 – Simplified view of a generic Linux architecture](images/figure_1_1_linux_architecture.png)

*Figure 1.1 – Simplified view of a generic Linux architecture*

The architecture shows the layered structure from hardware at the bottom, through the Linux kernel, system libraries, and applications at the top.

---

## Common Linux Distributions

### Enterprise and Server Distributions

#### **Fedora, CentOS Stream, and RHEL**
- **Package Manager**: Red Hat Package Manager (RPM)
- **CentOS Stream**: Rolling release, base for future RHEL versions
- **RHEL**: Commercial-grade, stable platform with long-term support
- **Community Alternative**: Rocky Linux (uses RHEL binaries)

!!! info "CentOS Evolution"
    As of this second edition, CentOS became a rolling release and is the base from which future Red Hat Enterprise Linux (RHEL) versions are derived. Its place was taken by other free community distributions that use the RHEL binaries, such as Rocky Linux and AlmaLinux.

#### **Debian**
- **Package Manager**: Debian Package (DPKG)
- **Release Cycle**: Slower pace, more stable
- **Characteristics**: Reliable, well-tested packages

#### **Ubuntu**
- **Package Manager**: Advanced Package Tool (APT) and DPKG
- **Release Schedule**: Every 6 months, LTS releases every 2 years
- **Popularity**: One of the most popular Linux distributions

### Desktop-Focused Distributions

#### **Linux Mint**
- **Package Manager**: APT
- **Base**: Built on Ubuntu (also LMDE - Debian Edition)
- **Target**: Desktop use with lower memory usage than Ubuntu
- **Desktop Environment**: Cinnamon (vs Ubuntu's GNOME)

#### **openSUSE**
- **Package Manager**: RPM, YaST, Zypper
- **Versions**:
  - **Tumbleweed**: Rolling release, cutting-edge
  - **Leap**: Regular release, enterprise-grade
- **Commercial**: SUSE Linux Enterprise Server

### Distribution Comparison Table

| Distribution | Package Manager | Release Type | Target Use | Commercial Version |
|--------------|----------------|--------------|------------|-------------------|
| Ubuntu | APT, DPKG | 6 months, LTS every 2 years | Desktop/Server | Ubuntu Pro |
| Fedora | RPM | ~6 months | Desktop/Server | RHEL |
| Debian | DPKG | Slow, stable | Server/Desktop | None |
| openSUSE | RPM, YaST, Zypper | Rolling/Regular | Desktop/Server | SUSE Enterprise |
| Rocky Linux | RPM | Stable | Server | None (RHEL compatible) |

---

## Choosing a Linux Distribution

### Key Decision Factors

#### **1. Platform Type**
- **Server**: Core OS services, networking, minimal GUI
- **Desktop**: Full GUI, extensive software packages
- **Embedded**: Optimized for limited hardware resources

#### **2. Infrastructure Considerations**
- **Deployment Environment**: Bare metal, VM, containers, cloud
- **Resource Requirements**: CPU, memory, storage
- **Scaling Needs**: Container orchestration, cloud elasticity
- **Cost Factors**: Cloud hosting, VPS pricing

#### **3. Performance Requirements**
- **Application Specific**: Email servers, media streaming, web services
- **Hardware Optimization**: Compiler-level optimizations
- **Customization Effort**: Balance between performance and maintenance

#### **4. Security Considerations**
- **Desktop Security**: Malware protection, safe browsing
- **Server Security**: Regular updates, minimal attack surface
- **Specialized Security**: Penetration testing distributions (Kali, Parrot)

#### **5. Reliability and Support**
- **Release Cycles**: Aggressive vs stable release schedules
- **Long-term Support**: Enterprise requirements
- **Community Support**: Documentation, forums, commercial support

---

## Installing Linux - The Basics

### Installation Methods Overview

1. **Bare Metal Installation**: Direct hardware installation
2. **Virtual Machine**: Hypervisor-based deployment
3. **Windows Subsystem for Linux**: Native Windows integration
4. **Container Deployment**: Docker/Podman containers

### Step-by-Step Installation Process

#### **Step 1: Download Distribution**
- Download ISO image from official distribution website
- Example: Ubuntu Desktop from https://ubuntu.com/download/desktop

#### **Step 2: Create Bootable Media**

**USB Drive Creation (Recommended)**
- **Tools**: UNetbootin, Balena Etcher
- **Cross-platform**: Windows, Linux, macOS support

![Figure 1.2 – Create a bootable USB drive with Balena Etcher](images/figure_1_2_balena_etcher.png)

*Figure 1.2 – Create a bootable USB drive with Balena Etcher*

**Balena Etcher Process:**
1. Select ISO file
2. Choose USB target device
3. Flash the USB drive

**Alternative Methods:**
- DVD burning (less common)
- PXE network boot (enterprise environments)

!!! info "PXE Boot Alternative"
    There's also a third possibility of using a Preboot eXecution Environment (PXE) boot server. PXE (pronounced pixie) is a client-server environment where a PXE-enabled client loads and boots a software package over a network from a PXE-enabled server.

#### **Step 3: Live Mode Testing (Optional)**

![Figure 1.3 – Choosing live mode for Ubuntu Desktop](images/figure_1_3_ubuntu_live_mode.png)

*Figure 1.3 – Choosing live mode for Ubuntu Desktop*

- Boot from USB without installation
- Test hardware compatibility
- Evaluate distribution features
- Requires sufficient RAM for live environment

**BIOS Boot Key Reference:**
- Common keys: F2, F10, F12, F1, or Delete
- Mac: Hold Option key after startup chime
- Keys usually displayed on initial boot screen

#### **Step 4: Installation Execution**
- Boot from installation media
- Configure BIOS boot order if necessary
- Follow distribution-specific installation wizard

---

## Virtual Machine Installation

### Supported Hypervisors

#### **Oracle VM VirtualBox**
- **Platform**: Cross-platform (Windows, macOS, Linux)
- **Cost**: Free
- **Architecture**: Intel/AMD x86_64

#### **VMware Workstation**
- **Platform**: Windows, Linux
- **Cost**: Commercial (free Player version available)
- **Features**: Advanced VM management

#### **Hyper-V**
- **Platform**: Windows Pro/Enterprise/Education only
- **Cost**: Included with Windows
- **Integration**: Native Windows hypervisor

!!! warning "Apple Silicon Support"
    At the time of writing, hypervisors for Apple silicon Macs are provided only by VMware Player and Parallels. Oracle VirtualBox is still in preview for ARM architecture. Both VMware and Parallels solutions are paid software on macOS.

### VM Installation Examples

#### **VMware Workstation Setup**

![Figure 1.4 – Power-up and Linux installation on a new VM](images/figure_1_4_vmware_vm.png)

*Figure 1.4 – Power-up and Linux installation on a new VM*

**VM Creation Process:**
1. **Create New Virtual Machine**
   - Select installation ISO
   - Configure VM name and location

2. **Resource Allocation**
   - **Disk Space**: 20GB minimum (recommended)
   - **Memory**: 4GB minimum
   - **CPU Cores**: 2 cores minimum

3. **Hardware Customization**
   - Adjust based on host system resources
   - **Recommended Host Specs**: 16GB RAM, 8-core CPU

#### **Ubuntu Server Installation Steps**

1. Language selection
2. Installer update (if available)
3. Keyboard layout configuration
4. Base installation selection (Server/Minimized)
5. Network configuration
6. Proxy settings (if required)
7. Package repository mirror
8. Storage/partitioning setup
9. User profile creation
10. SSH server installation
11. Snap package selection
12. Installation execution and reboot

#### **Rocky Linux Installation**

![Figure 1.5 – The Rocky Linux installation GUI](images/figure_1_5_rocky_linux_gui.png)

*Figure 1.5 – The Rocky Linux installation GUI*

The Rocky Linux installation provides a graphical interface similar to other enterprise distributions.

#### **Hyper-V Setup**

![Figure 1.6 – Activating Hyper-V on Windows 11 Pro](images/figure_1_6_hyperv_activation.png)

*Figure 1.6 – Activating Hyper-V on Windows 11 Pro*

**Hyper-V VM Creation:**
1. Activate Hyper-V feature in Windows Features
2. Restart system
3. Open Hyper-V Manager
4. Create new virtual machine
5. Configure generation (1 or 2)
6. Set memory and networking
7. Attach ISO image

![Figure 1.7 – New Ubuntu VM using Hyper-V](images/figure_1_7_hyperv_ubuntu.png)

*Figure 1.7 – New Ubuntu VM using Hyper-V*

#### **VirtualBox Setup**

![Figure 1.8 – VirtualBox interface](images/figure_1_8_virtualbox_interface.png)

*Figure 1.8 – VirtualBox interface*

**VirtualBox VM Creation:**
1. Click "New" to create VM
2. Configure name and OS type
3. Set memory and CPU allocation
4. Create virtual hard disk
5. Attach ISO image
6. Start installation

!!! note "Unattended Installation"
    VirtualBox supports unattended installation for select operating systems (Ubuntu, RHEL, Oracle Linux, and Windows), but this feature is grayed out for Fedora installations.

---

## Windows Subsystem for Linux (WSL)

### Overview
WSL provides native GNU/Linux runtime alongside Windows desktop environment without requiring a dedicated hypervisor.

### Benefits
- **Integration**: Seamless Windows-Linux interoperability
- **Performance**: Native kernel extension
- **Accessibility**: No separate hypervisor needed
- **File System**: Direct access from Windows File Explorer

### Installation Process

#### **Prerequisites**
- Windows 11 (any edition) or Windows 10 (versions 21H2, 22H2)
- Hyper-V enabled (Pro/Enterprise/Education editions)

!!! warning "Windows Home Edition"
    Hyper-V is available by default on Windows 11 Pro, Enterprise and Education, but NOT on Home edition.

#### **Installation Steps**

![Figure 1.9 – WSL application from the Windows Store](images/figure_1_9_wsl_store.png)

*Figure 1.9 – WSL application from the Windows Store*

1. **Install WSL from Microsoft Store**
   - Search for "WSL" application
   - Install WSL runtime

2. **Install Linux Distribution**
   - Available distributions: Ubuntu, Debian, SUSE, Kali, Oracle Linux
   - Install directly from Microsoft Store

3. **Initial Setup**
   - Create user account
   - Configure password
   - Access via Windows Terminal

#### **WSL in Action**

![Figure 1.10 – Ubuntu inside a Windows Terminal window using WSL](images/figure_1_10_ubuntu_terminal.png)

*Figure 1.10 – Ubuntu inside a Windows Terminal window using WSL*

![Figure 1.11 – The Ubuntu filesystem in the File Explorer in Windows 11](images/figure_1_11_ubuntu_filesystem.png)

*Figure 1.11 – The Ubuntu filesystem in the File Explorer in Windows 11*

### WSL Features
- **File System Access**: Linux filesystem visible in Windows Explorer
- **Command Integration**: Run Linux commands from Windows
- **Development Environment**: Native Linux tools on Windows

---

## Advanced Installation Methods

### Network Installation (PXE Boot)

#### **Use Cases**
- Enterprise environments
- Multiple machine deployment
- Remote installation capability
- Automated deployment scenarios

#### **PXE Components and Process**

**Required Services:**
- **DHCP Server**: IP address assignment
- **TFTP Server**: Boot file transfer
- **NFS Server**: Network file system
- **Optional**: DNS server

**Supported Protocols:**
- Trivial File Transfer Protocol (TFTP)
- Dynamic Host Configuration Protocol (DHCP)
- UDP/IP stack with HTTP
- Network File System (NFS)

**Process Overview:**
1. Client sends DHCP request
2. PXE server responds with boot information
3. Client downloads boot files via TFTP
4. Network-based installation proceeds

**Automation Options:**
- **iPXE**: Open source network boot firmware
- **cloud-init**: Ubuntu-specific automation
- **kickstart**: Fedora-based system automation

### Linux Boot Process

#### **Boot Sequence**
1. **BIOS/UEFI**: Hardware initialization, POST (Power-On Self Test)
2. **Bootloader (GRUB)**: Grand Unified Bootloader loads kernel
3. **Kernel**: Hardware/software integration, creates user space
4. **User Space**: Services and applications start

#### **Modern Boot Features**
- **UEFI**: Enhanced BIOS replacement with interactive interfaces
- **Secure Boot**: Digital signature verification for OS authenticity
- **Network Boot**: PXE support integrated in GRUB

!!! info "Secure Boot Support"
    Secure Boot uses digital signatures to prove OS authenticity. Not all Linux distributions support it, and OS developers must obtain valid certificates for verification.

---

## Practical Use Cases

### Case Study 1: Development Workstation

**Scenario**: Backend/frontend developer using Java, Node.js, Python, Golang with IntelliJ/VS Code, Docker, and VirtualBox.

**Requirements**:
- Robust desktop environment
- IDE and terminal switching
- Container and VM support
- Up-to-date packages

**Recommendation**: **Ubuntu Desktop LTS**
- Stable, enterprise-grade platform
- Excellent hardware support
- Comprehensive package availability
- Regular security updates

**Alternatives**: Fedora, openSUSE (based on ecosystem preference)

### Case Study 2: Secure Web Server

**Scenario**: Enterprise-grade web server for HTTP/SSL handling with Apache HTTP Server.

**Requirements**:
- Lightweight, secure platform
- Enterprise stability
- SSL/TLS support
- Container deployment capability

**Recommendation**: **Rocky Linux or AlmaLinux**
- Minimal server components
- RHEL compatibility
- Wide VPS/cloud availability
- Docker container support

### Case Study 3: Personal Blog

**Scenario**: Ghost blogging platform on Node.js with MySQL backend, hosted on cloud VPS.

**Requirements**:
- Cost-effective hosting
- Easy maintenance
- Frequent updates support
- Self-managed environment

**Recommendation**: **Debian Stable or Ubuntu Server LTS**
- Small footprint
- Excellent package management
- Stable, secure platform
- Cost-effective cloud deployment

### Case Study 4: Media Server

**Scenario**: Plex Media Server for local network streaming from NAS storage.

**Requirements**:
- High-performance streaming
- Stability and security
- Frequent codec updates
- Local network optimization

**Recommendation**: **Debian or Ubuntu LTS**
- Rock-solid reliability
- Advanced networking
- ARM compatibility (Debian)
- Intel/AMD support (both)

!!! tip "Architecture Considerations"
    Plex Media Server has ARM-compatible packages for Debian, while Ubuntu packages are only available for Intel/AMD platforms. Choose accordingly based on your hardware.

---

## Technical Requirements

### Development Environment
- **Linux Distributions**: Ubuntu (primary focus)
- **VM Hypervisors**: Oracle VirtualBox, VMware Workstation, Hyper-V
- **Host Platforms**: Windows 11 (applicable to macOS)

### Minimum System Requirements

| Component | Minimum | Recommended |
|-----------|---------|-------------|
| RAM | 4GB | 8GB+ |
| Storage | 20GB | 50GB+ |
| CPU | Dual-core | Quad-core+ |
| Network | Internet connection | Broadband |

### Hypervisor Host Requirements
- **Host RAM**: 16GB recommended for multiple VMs
- **Host CPU**: 8-core processor for optimal VM performance
- **Storage**: SSD recommended for better VM performance

---

## Summary and Key Takeaways

### Chapter Highlights

1. **Distribution Selection**: Choose based on platform type, infrastructure, and specific requirements
2. **Installation Flexibility**: Multiple deployment options available (bare metal, VM, WSL, containers)
3. **Enterprise Considerations**: Stability, security, and support are crucial factors
4. **Modern Deployment**: Container and cloud-native approaches increasingly important
5. **Practical Approach**: Real-world use cases drive distribution selection decisions

### Skills Acquired

- Understanding Linux distribution ecosystem
- Installing Linux on various platforms
- Configuring virtual machine environments
- Setting up Windows Subsystem for Linux
- Selecting appropriate distributions for specific use cases

### What's Next

Starting with Chapter 2, we'll explore:
- Linux Shell and Filesystem internals
- Command-line operations
- File system navigation and management
- Essential system tools and utilities

---

## Study Questions

1. **VM Management**: If we have a relatively large number of Linux VM instances deployed, how could we make it easier to manage them?
   
   !!! tip "Hint"
       Use Vagrant, a tool for building and managing VM environments.

2. **WSL Capabilities**: Can we run multiple Linux instances in WSL?
   
   !!! tip "Hint"
       Yes, we can run multiple distributions simultaneously.

3. **Distribution Selection**: What factors would influence choosing between Ubuntu LTS and Rocky Linux for a production web server?

4. **PXE Boot**: In what scenarios would PXE network boot be preferred over traditional USB installation?

---

## Further Reading

### Recommended Resources
- [Ubuntu Official Documentation](https://ubuntu.com/server/docs)
- [Red Hat Enterprise Linux Documentation](https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/)
- [Debian Administrator's Handbook](https://debian-handbook.info/)
- [VirtualBox User Manual](https://www.virtualbox.org/manual/)
- [VMware Documentation](https://docs.vmware.com/)

### Related Packt Titles
- *Fundamentals of Linux*, by Oliver Pelz
- *Mastering Ubuntu Server – Fourth Edition*, by Jay LaCroix
- *Mastering Linux Administration – First Edition*, by Alexandru Calcatinge and Julian Balog

### Online Resources
- [PXE Boot Specification](https://web.archive.org/web/20110524083740/http://download.intel.com/design/archives/wfm/downloads/pxespec.pdf)
- [Ubuntu PXE Installation Guide](https://ubuntu.com/server/docs/install/netboot-amd64)
- [Red Hat PXE Boot Guide](https://www.redhat.com/sysadmin/pxe-boot-uefi)
- [Asahi Linux for Apple Silicon](https://asahilinux.org/)

---

!!! note "Book Focus"
    Throughout this book, the focus is mainly on Linux distributions widely used in both community and commercial deployments: Ubuntu, Fedora/Rocky Linux, and openSUSE. Most examples are applicable to any Linux distribution, with specific distributions noted where relevant.